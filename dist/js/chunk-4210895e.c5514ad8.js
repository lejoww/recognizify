(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4210895e"],{"0e09":function(t,e,r){t.exports=r.p+"img/feather-sprite.5113e3a1.svg"},1941:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"users"}},[r("div",{staticClass:"dashboardContent"},[r("UserRegistry")],1),r("ProjectPanel")],1)},o=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"usersRegistry"}},[a("div",{staticClass:"usersListTable",attrs:{id:"usersListTable"}},[a("h6",[t._v("Usuarios en tu proyecto")]),a("table",{staticClass:"table"},[t._m(0),a("tbody",{attrs:{id:"projectUsersField"}},t._l(t.users,function(e){return a("tr",{key:e.name},[a("td",{attrs:{scope:"col"}},[a("img",{staticClass:"userProfilePhoto",attrs:{src:e.picture?e.picture:r("f365"),width:"25px"}}),t._v("\n              "+t._s(e.name)+"\n            ")]),a("td",{attrs:{scope:"col"}},[t._v("@"+t._s(e.user))]),a("td",{attrs:{scope:"col"}},[t._v(t._s(e.role?e.role:"No tiene rol asignado"))])])}),0)])])])},n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",{staticClass:"thead-dark"},[r("tr",{staticStyle:{"font-size":"14px"}},[r("th",{attrs:{scope:"col"}},[t._v("Nombre")]),r("th",{attrs:{scope:"col"}},[t._v("Usuario")]),r("th",{attrs:{scope:"col"}},[t._v("Rol")])])])}],c=(r("386d"),r("6b54"),r("7f7f"),r("ac6a"),r("8aa5")),i=r.n(c),u=(r("f880"),r("e010")),l={data:function(){return{search:"",UserNameInvited:"",UserInvited:"",users:[]}},mounted:function(){var t=this;i.a.firestore().collection("projects").doc(this.$route.params.projectId).collection("members").get().then(function(e){e.forEach(function(e){i.a.storage().ref("/profile_photos/".concat(e.id)).getDownloadURL().then(function(r){t.users.push({name:e.data()["name"],picture:r,user:e.data()["user"],role:e.data()["role"]})}).catch(function(){t.users.push({name:e.data()["name"],user:e.data()["user"],role:e.data()["role"]})})})})},mixins:[u["a"]],methods:{proposeAnUserWithSearch:function(){var t=this;i.a.firestore().collection("users").get().then(function(e){e.forEach(function(e){t.search.toString()==e.data()["user"]&&(t.UserInvited=e.data()["user"],t.enableNewMemberInvitationCard(e.data()["name"]))})})},enableNewMemberInvitationCard:function(t){this.UserNameInvited=t},sendInvitationToSelectedUser:function(){var t=this;i.a.firestore().collection("users").get().then(function(e){e.docs.forEach(function(e){if(e.data()["user"]==t.UserInvited){var r=e.id,a=t.$router.history.current.params["projectId"];i.a.firestore().collection("projects").doc(a).get().then(function(e){t.addActivityPoint(),i.a.firestore().collection("users").doc(r).collection("invitations").doc(a).set({pname:e.data()["shortName"]})})}})})}}},d=l,f=r("2877"),p=Object(f["a"])(d,s,n,!1,null,null,null),h=p.exports,v=(r("8f3a"),r("e7dd")),m=r("7c20"),g={components:{UserRegistry:h,ProjectPanel:m["a"]},mixins:[v["a"]],created:function(){"undefined"==this.$router.history.current.params["projectId"]&&this.$router.push("/dashboard/select")}},j=g,C=Object(f["a"])(j,a,o,!1,null,null,null);e["default"]=C.exports},"386d":function(t,e,r){"use strict";var a=r("cb7c"),o=r("83a1"),s=r("5f1b");r("214f")("search",1,function(t,e,r,n){return[function(r){var a=t(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,a):new RegExp(r)[e](String(a))},function(t){var e=n(r,t,this);if(e.done)return e.value;var c=a(t),i=String(this),u=c.lastIndex;o(u,0)||(c.lastIndex=0);var l=s(c,i);return o(c.lastIndex,u)||(c.lastIndex=u),null===l?-1:l.index}]})},"40da":function(t,e,r){"use strict";var a=r("ca3f"),o=r.n(a);o.a},7234:function(t,e,r){"use strict";var a=r("b164"),o=r.n(a);o.a},7323:function(t,e,r){},"7c20":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("OverlayMenuToggleButton"),a("div",{staticClass:"projectFeedPanel",attrs:{id:"projectFeedPanel"}},[a("ProjectName"),a("div",{staticClass:"projectFounder"},[a("p",{staticClass:"projectCardIndicator"},[t._v("Creador del proyecto")]),a("div",{staticClass:"projectFounderFlow"},[t._m(0),a("div",{staticStyle:{display:"flex","flex-direction":"column"}},[a("span",{staticClass:"projectFounderName"},[t._v(t._s(t.admin.name))]),a("small",{staticClass:"text-muted",staticStyle:{"font-weight":"600"}},[t._v("@"+t._s(t.admin.user))])])])]),a("div",{staticClass:"projectShortcuts"},[a("p",{staticClass:"projectCardIndicator"},[t._v("Módulos del proyecto")]),a("router-link",{staticClass:"projectShortcutLink",attrs:{to:"/dashboard/project/"+this.$route.params.projectId+"/feed"}},[a("div",{staticClass:"projectShortcutButton"},[a("svg",{staticClass:"feather-menu"},[a("use",{attrs:{"xlink:href":r("0e09")+"#activity"}})]),t._v("\n                    Feed\n                ")])]),a("router-link",{staticClass:"projectShortcutLink",attrs:{to:"/dashboard/project/"+this.$route.params.projectId+"/board"}},[a("div",{staticClass:"projectShortcutButton"},[a("svg",{staticClass:"feather-menu"},[a("use",{attrs:{"xlink:href":r("0e09")+"#message-square"}})]),t._v("\n                    Boards\n                ")])]),a("router-link",{staticClass:"projectShortcutLink",attrs:{to:"/dashboard/project/"+this.$route.params.projectId+"/tasks"}},[a("div",{staticClass:"projectShortcutButton"},[a("svg",{staticClass:"feather-menu"},[a("use",{attrs:{"xlink:href":r("0e09")+"#clock"}})]),t._v("\n                    Tasks\n                ")])]),a("router-link",{staticClass:"projectShortcutLink",attrs:{to:"/dashboard/project/"+this.$route.params.projectId+"/goals"}},[a("div",{staticClass:"projectShortcutButton"},[a("svg",{staticClass:"feather-menu"},[a("use",{attrs:{"xlink:href":r("0e09")+"#flag"}})]),t._v("\n                    Goals\n                ")])]),a("router-link",{staticClass:"projectShortcutLink",attrs:{to:"/dashboard/project/"+this.$route.params.projectId+"/membership"}},[a("div",{staticClass:"projectShortcutButton"},[a("svg",{staticClass:"feather-menu"},[a("use",{attrs:{"xlink:href":r("0e09")+"#users"}})]),t._v("\n                    Users\n                ")])]),a("router-link",{staticClass:"projectShortcutLink",attrs:{to:"/dashboard/project/"+this.$route.params.projectId+"/ads"}},[a("div",{staticClass:"projectShortcutButton"},[a("svg",{staticClass:"feather-menu"},[a("use",{attrs:{"xlink:href":r("0e09")+"#mic"}})]),t._v("\n                    Ads\n                ")])])],1)],1)],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"projectFounderProfile"},[a("img",{staticClass:"projectFounderProfilePicture",attrs:{id:"projectFounderProfilePicture",src:r("f365")}})])}],s=(r("7f7f"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"projectPresentationContainer"},[r("div",{staticClass:"projectData"},[r("p",{staticClass:"text-white"},[t._v(t._s(t.projectName))]),r("span",[t._v(t._s(t.projectDescription?t.projectDescription:""))])])])}),n=[],c=r("8aa5"),i=r.n(c),u={data:function(){return{projectName:"",projectDescription:""}},created:function(){var t=this;i.a.firestore().collection("projects").doc(this.$route.params.projectId).get().then(function(e){t.projectName=e.data()["shortName"],t.projectDescription=e.data()["description"]})}},l=u,d=(r("7234"),r("2877")),f=Object(d["a"])(l,s,n,!1,null,null,null),p=f.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{staticClass:"OverlayMenuToggleButton",attrs:{id:"OverlayMenuToggleButton","data-toggle":"tooltip","data-placement":"bottom",title:"Menú del proyecto"},on:{click:t.toggleOverlayMenu}},[a("svg",{staticClass:"feather-light"},[a("use",{attrs:{"xlink:href":r("0e09")+"#package"}})])])])},v=[],m=(r("1157"),{updated:function(){$(function(){$('[data-toggle="tooltip"]').tooltip()})},methods:{toggleOverlayMenu:function(){document.getElementById("projectFeedPanel").classList.toggle("show"),document.getElementById("OverlayMenuToggleButton").classList.toggle("forward"),$("#OverlayMenuToggleButton").tooltip("disable")}}}),g=m,j=(r("40da"),Object(d["a"])(g,h,v,!1,null,null,null)),C=j.exports,_=(r("7323"),{data:function(){return{admin:{name:"",profilePicture:"",user:""}}},components:{ProjectName:p,OverlayMenuToggleButton:C},created:function(){var t=this;i.a.firestore().collection("projects").doc(this.$route.params.projectId).get().then(function(e){i.a.firestore().collection("users").doc(e.data()["admin"][0]).get().then(function(e){t.admin.name=e.data()["name"],t.admin.user=e.data()["user"]}),i.a.storage().ref("profile_photos/".concat(e.data()["admin"][0])).getDownloadURL().then(function(t){document.getElementById("projectFounderProfilePicture").setAttribute("src",t)})})},methods:{closeOverlayMenu:function(){document.getElementById("projectFeedPanel").classList.toggle("show")}}}),b=_,y=Object(d["a"])(b,a,o,!1,null,null,null);e["a"]=y.exports},"7f7f":function(t,e,r){var a=r("86cc").f,o=Function.prototype,s=/^\s*function ([^ (]*)/,n="name";n in o||r("9e1e")&&a(o,n,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"8f3a":function(t,e,r){},b164:function(t,e,r){},ca3f:function(t,e,r){},e010:function(t,e,r){"use strict";r.d(e,"a",function(){return s});var a=r("8aa5"),o=r.n(a),s={methods:{addActivityPoint:function(){var t=this,e=new Date,r="".concat(e.getUTCDate()).concat(e.getMonth()).concat(e.getFullYear());o.a.firestore().collection("projects").doc(this.$route.params.projectId).collection("dates").doc(r).get().then(function(e){var a=void 0==e.data()?0:e.data()["activityPoints"];t.setActivityPoint(r,a)})},setActivityPoint:function(t,e){o.a.firestore().collection("projects").doc(this.$route.params.projectId).collection("dates").doc(t).set({activityPoints:e+1,date:o.a.firestore.Timestamp.fromDate(new Date)}).then(function(){return window.location.reload()})}}}},e7dd:function(t,e,r){"use strict";r("ac6a");var a=r("8aa5"),o=r.n(a),s={beforeCreate:function(){var t=this;o.a.firestore().collection("projects").doc(this.$route.params.projectId).collection("members").get().then(function(e){var r=!1;e.forEach(function(t){t.id==o.a.auth().currentUser.uid&&(r=!0)}),setInterval(function(){0==r&&t.$router.push("/error/project")},500)})}};e["a"]=s},f365:function(t,e,r){t.exports=r.p+"img/profile.f2fd1390.png"},f880:function(t,e,r){}}]);
//# sourceMappingURL=chunk-4210895e.c5514ad8.js.map