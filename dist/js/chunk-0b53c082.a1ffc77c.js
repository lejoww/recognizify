(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b53c082"],{"0e09":function(t,e,r){t.exports=r.p+"img/feather-sprite.5113e3a1.svg"},2366:function(t,e){for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);function a(t,e){var o=e||0,a=r;return[a[t[o++]],a[t[o++]],a[t[o++]],a[t[o++]],"-",a[t[o++]],a[t[o++]],"-",a[t[o++]],a[t[o++]],"-",a[t[o++]],a[t[o++]],"-",a[t[o++]],a[t[o++]],a[t[o++]],a[t[o++]],a[t[o++]],a[t[o++]]].join("")}t.exports=a},"365b":function(t,e,r){},"4e68":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"dashboardContent"},[o("div",{staticClass:"formLayout"},[t._m(0),o("div",{staticClass:"projectForm"},[o("a",{staticStyle:{display:"flex","align-items":"center"},attrs:{href:"javascript: history.go(-1)"}},[o("svg",{staticClass:"feather-dark"},[o("use",{attrs:{"xlink:href":r("0e09")+"#arrow-left"}})]),o("span",{staticClass:"backButton text-dark"},[t._v("Volver atrás")])]),o("br"),o("h2",[t._v("Crea un nuevo proyecto.")]),o("h5",[t._v("Puedes comenzar por aquí")]),o("br"),o("div",{staticClass:"form-container"},[o("div",{staticClass:"form-group"},[o("label",[t._v("Nombre completo del proyecto")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.largeName,expression:"largeName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Un nombre largo para el proyecto"},domProps:{value:t.largeName},on:{input:function(e){e.target.composing||(t.largeName=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("Apodo para el proyecto")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.shortName,expression:"shortName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Un nombre más corto"},domProps:{value:t.shortName},on:{input:function(e){e.target.composing||(t.shortName=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("¿De qué se trata el proyecto?")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control form-textarea",attrs:{rows:"7"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("Agrega una foto que represente el proyecto")]),o("input",{staticClass:"form-control-file",attrs:{type:"file",id:"file"},on:{change:t.uploadImageToServer}})]),o("div",{staticClass:"form-group"},[o("button",{staticClass:"btn btn-success",on:{click:t.createProjectOnDatabase}},[t._v("Listo, crear proyecto")])])])])])])},a=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"projectAd"},[o("div",{staticClass:"projectAdWrapper"},[o("img",{attrs:{src:r("b5f1")}}),o("br"),o("h3",{staticClass:"text-white"},[t._v("Es hora de ser el "),o("span",{staticClass:"text-secondary"},[t._v("mejor")]),t._v(".")])])])}],n=(r("7f7f"),r("66aa")),s=r("8aa5"),i=r.n(s),c=r("c437"),u=r.n(c);r("8f3a");i.a.auth().onAuthStateChanged(function(t){t||(console.log("No existe usuario actualmente"),"/"!=window.location&&(window.location="/"))});var l={data:function(){return{largeName:"",shortName:"",description:"",projectuid:""}},components:{Profile:n["a"]},methods:{createProjectOnDatabase:function(){var t=this;i.a.auth().onAuthStateChanged(function(e){void 0!=t.projectuid&&""!=t.projectuid||(t.projectuid=u()()),i.a.firestore().collection("projects").doc(t.projectuid).set({name:t.largeName,shortName:t.shortName,description:t.description,admin:[e.uid]}).then(function(){i.a.firestore().collection("users").doc(e.uid).get().then(function(r){i.a.firestore().collection("projects").doc(t.projectuid).collection("members").doc(e.uid).set({name:r.data()["name"],user:r.data()["user"],member:!0,role:""}).then(function(){return t.$router.push("/dashboard/select")}).catch(function(t){return console.error(t)})}).catch(function(t){return console.error(t)})}).catch(function(t){return console.error(t)})})},uploadImageToServer:function(t,e){this.projectuid=u()();var r=t.target.files[0];i.a.storage().ref("projects/".concat(this.projectuid,"/project_photo")).put(r)}}},d=l,f=r("2877"),p=Object(f["a"])(d,o,a,!1,null,null,null);e["default"]=p.exports},"66aa":function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"headerProfile"},[o("div",{staticClass:"profileWrapper"},[o("div",{staticClass:"profileData"},[o("div",{staticClass:"profileContent"},[o("img",{staticClass:"profilePicture",attrs:{src:t.urlPhotoPath}})]),o("div",{staticClass:"profileIdentity"},[o("span",{staticClass:"profileName text-white"},[t._v("Hola, "+t._s(this.currentAccount.nickname))])])]),o("div",{staticClass:"profileOptions"},[o("router-link",{attrs:{to:"/account/configuration"}},[o("svg",{staticClass:"feather-menu"},[o("use",{attrs:{"xlink:href":r("0e09")+"#settings"}})])]),o("a",{staticStyle:{"margin-left":"7px"},attrs:{href:"#","data-toggle":"tooltip","data-placement":"top",title:"Cerrar sesión"},on:{click:t.closeSession}},[o("svg",{staticClass:"feather-red"},[o("use",{attrs:{"xlink:href":r("0e09")+"#log-out"}})])])],1)])])},a=[],n=r("8aa5"),s=r.n(n),i=(r("984e"),r("365b"),{data:function(){return{urlPhotoPath:"",currentAccount:{nickname:"",username:""}}},created:function(){this.setProfilePicture(),this.setIdentityData(),this.checkExistentIdentity()},methods:{setProfilePicture:function(){var t=this;s.a.auth().onAuthStateChanged(function(e){s.a.storage().ref("profile_photos/".concat(e.uid)).getDownloadURL().then(function(e){return t.urlPhotoPath=e})})},setIdentityData:function(){var t=this;s.a.auth().onAuthStateChanged(function(e){s.a.firestore().collection("users").doc(e.uid).get().then(function(e){t.currentAccount.nickname=e.data()["nickname"],t.currentAccount.username=e.data()["user"]})})},checkExistentIdentity:function(){var t=this;setTimeout(function(){""!=t.currentAccount.nickname&&void 0!=t.currentAccount.nickname&&null!=t.currentAccount.nickname||t.$router.push("/register/nickname"),""!=t.currentAccount.username&&void 0!=t.currentAccount.username&&null!=t.currentAccount.username||t.$router.push("/register/info")},4e3)},closeSession:function(){s.a.auth().signOut(),window.location="/"}}}),c=i,u=r("2877"),l=Object(u["a"])(c,o,a,!1,null,null,null);e["a"]=l.exports},"7f7f":function(t,e,r){var o=r("86cc").f,a=Function.prototype,n=/^\s*function ([^ (]*)/,s="name";s in a||r("9e1e")&&o(a,s,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(t){return""}}})},"8f3a":function(t,e,r){},"984e":function(t,e,r){},b5f1:function(t,e,r){t.exports=r.p+"img/office-work.f79f8313.png"},c437:function(t,e,r){var o,a,n=r("e1f4"),s=r("2366"),i=0,c=0;function u(t,e,r){var u=e&&r||0,l=e||[];t=t||{};var d=t.node||o,f=void 0!==t.clockseq?t.clockseq:a;if(null==d||null==f){var p=n();null==d&&(d=o=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=a=16383&(p[6]<<8|p[7]))}var m=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:c+1,h=m-i+(v-c)/1e4;if(h<0&&void 0===t.clockseq&&(f=f+1&16383),(h<0||m>i)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=m,c=v,a=f,m+=122192928e5;var g=(1e4*(268435455&m)+v)%4294967296;l[u++]=g>>>24&255,l[u++]=g>>>16&255,l[u++]=g>>>8&255,l[u++]=255&g;var C=m/4294967296*1e4&268435455;l[u++]=C>>>8&255,l[u++]=255&C,l[u++]=C>>>24&15|16,l[u++]=C>>>16&255,l[u++]=f>>>8|128,l[u++]=255&f;for(var y=0;y<6;++y)l[u+y]=d[y];return e||s(l)}t.exports=u},e1f4:function(t,e){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var o=new Uint8Array(16);t.exports=function(){return r(o),o}}else{var a=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),a[e]=t>>>((3&e)<<3)&255;return a}}}}]);
//# sourceMappingURL=chunk-0b53c082.a1ffc77c.js.map