{"version":3,"sources":["webpack:///./src/assets/logo-common-cutted.png","webpack:///./src/views/account/PublicProfile.vue?c8b8","webpack:///./src/components/modals/SendInvitation.vue?9bb0","webpack:///src/components/modals/SendInvitation.vue","webpack:///./src/components/modals/SendInvitation.vue?8a6f","webpack:///./src/components/modals/SendInvitation.vue","webpack:///src/views/account/PublicProfile.vue","webpack:///./src/views/account/PublicProfile.vue?55c6","webpack:///./src/views/account/PublicProfile.vue","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/assets/ilustrations/nothing.png","webpack:///./src/assets/scripts/addActivityPoints.js","webpack:///./src/assets/ilustrations/profile.png"],"names":["module","exports","__webpack_require__","p","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","id","role","_v","profileId","user","_m","src","url","staticStyle","letter-spacing","_s","name","font-weight","bio","data-toggle","data-target","_e","staticRenderFns","width","color","SendInvitationvue_type_template_id_3ff643e8_render","tabindex","aria-labelledby","aria-hidden","currentUserProjects","length","_l","project","key","on","click","$event","sendInvitationToSelectedUser","href","SendInvitationvue_type_template_id_3ff643e8_staticRenderFns","border","type","data-dismiss","SendInvitationvue_type_script_lang_js_","data","props","created","getCurrentUserProjects","mixins","addActivityPoints","methods","_this","index_cjs_default","a","firestore","collection","get","then","projects","forEach","doc","members","member","auth","currentUser","uid","push","catch","err","console","log","projectId","_this2","onAuthStateChanged","alert","set","pname","$","modal","document","getElementById","style","display","modals_SendInvitationvue_type_script_lang_js_","component","Object","componentNormalizer","SendInvitation","PublicProfilevue_type_script_lang_js_","invitationIsAvailable","components","SendInvitationModal","getUserData","where","$route","params","username","empty","storage","ref","concat","docs","getDownloadURL","checkIfInvitationIsAvailable","profile_default","account_PublicProfilevue_type_script_lang_js_","PublicProfile_component","__webpack_exports__","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","match","e","d","AddPoints","firebase__WEBPACK_IMPORTED_MODULE_0__","firebase__WEBPACK_IMPORTED_MODULE_0___default","n","addActivityPoint","date","Date","today","getUTCDate","getMonth","getFullYear","firebase","amount","amounted","undefined","setActivityPoint","point","activityPoints","Timestamp","fromDate"],"mappings":"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","file":"js/chunk-77d9f3da.e3cfae1e.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/logo-common-cutted.5b742780.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"publicProfileLayout\"},[_c('div',{staticClass:\"alert alert-primary successAlert\",attrs:{\"id\":\"successAlert\",\"role\":\"alert\"}},[_vm._v(\"\\n        La invitación ha sido correctamente enviada\\n    \")]),_c('SendInvitationModal',{attrs:{\"profileId\":_vm.user.id}}),_vm._m(0),_c('div',{staticClass:\"publicProfileBase\"},[_c('div',{staticClass:\"publicProfileContent\"},[_c('div',{staticClass:\"profilePhotoImage\"},[_c('img',{attrs:{\"src\":_vm.user.url}})]),_c('div',{staticClass:\"profileDescription\"},[_c('span',{staticClass:\"publicProfileInd\"},[_vm._v(\"Perfil de usuario\")]),_c('h1',{staticStyle:{\"letter-spacing\":\"-1px\"}},[_vm._v(_vm._s(_vm.user.name))]),_c('span',{staticClass:\"profileUsername\"},[_vm._v(\"@\"+_vm._s(_vm.user.user))]),_c('div',{staticClass:\"profileBiography\"},[_c('span',{staticStyle:{\"font-weight\":\"700\"}},[_vm._v(\"Biografía\")]),_c('p',[_vm._v(_vm._s(_vm.user.bio))])]),_c('br'),(_vm.invitationIsAvailable)?_c('button',{staticClass:\"btn btn-primary\",attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#invitationModal\"}},[_vm._v(\"Invitar a un proyecto\")]):_vm._e()])]),_vm._m(1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"publicProfileBrand\"},[_c('img',{attrs:{\"src\":require(\"@/assets/logo-common-cutted.png\"),\"width\":\"189px\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"publicProfileContentNotAvailable\"},[_c('img',{staticClass:\"publicProfileContentNotAvailableImage\",attrs:{\"src\":require(\"@/assets/ilustrations/nothing.png\")}}),_c('h3',{staticStyle:{\"color\":\"#9e95aa\"}},[_vm._v(\"No falta mucho para que conozcas más a esta persona\")]),_c('p',{staticStyle:{\"color\":\"#9e95aa\"}},[_vm._v(\"Aquí en unos días, aparecerán datos interesantes de esta persona.\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade hide\",attrs:{\"id\":\"invitationModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"invitationModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(0),_c('div',{staticClass:\"modal-body\"},[(_vm.currentUserProjects.length >= 1)?_c('div',[_c('span',[_vm._v(\"Enviar invitación para:\")]),_vm._l((_vm.currentUserProjects),function(project){return _c('div',{key:project,staticClass:\"card projectCard\"},[_c('button',{on:{\"click\":function($event){return _vm.sendInvitationToSelectedUser(project.id)}}},[_vm._v(_vm._s(project.name))])])})],2):_c('div',[_c('p',[_vm._v(\"Parece que aún no tienes proyectos o no has iniciado sesión\")]),_c('a',{staticClass:\"btn btn-primary\",attrs:{\"href\":\"/signin\"}},[_vm._v(\"Inicia sesión\")])])]),_vm._m(1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\",staticStyle:{\"border\":\"none\"}},[_c('h3',{staticClass:\"modal-title modalTitle\"},[_vm._v(\"Invita a este usuario a un proyecto\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-footer\",staticStyle:{\"border\":\"none\"}},[_c('button',{staticClass:\"btn btn-info\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"Cancelar\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"modal fade hide\" id=\"invitationModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"invitationModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\" style=\"border: none\">\r\n            <h3 class=\"modal-title modalTitle\">Invita a este usuario a un proyecto</h3>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div v-if=\"currentUserProjects.length >= 1\">\r\n                <span>Enviar invitación para:</span>\r\n                <div class=\"card projectCard\" :key=\"project\" v-for=\"project in currentUserProjects\">\r\n                    <button v-on:click=\"sendInvitationToSelectedUser(project.id)\">{{project.name}}</button>\r\n                </div>\r\n            </div>\r\n            <div v-else>\r\n                <p>Parece que aún no tienes proyectos o no has iniciado sesión</p>\r\n                <a href=\"/signin\" class=\"btn btn-primary\">Inicia sesión</a>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\" style=\"border: none\">\r\n            <button type=\"button\" class=\"btn btn-info\" data-dismiss=\"modal\">Cancelar</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport '@/assets/css/modals.css'\r\n\r\nimport { AddPoints } from '@/assets/scripts/addActivityPoints.js'\r\nimport firebase from 'firebase'\r\nexport default {\r\n    data(){\r\n      return {\r\n          currentUserProjects: []\r\n      }\r\n    },\r\n    props: [\r\n        'profileId'\r\n    ],\r\n    created: function (){\r\n        this.getCurrentUserProjects()\r\n    },\r\n    mixins: [AddPoints],\r\n    methods: {\r\n        getCurrentUserProjects: function(){\r\n            firebase.firestore()\r\n            .collection('projects')\r\n            .get()\r\n            .then(projects => {\r\n                projects.forEach(project => {\r\n                    firebase.firestore()\r\n                    .collection('projects')\r\n                    .doc(project.id)\r\n                    .collection('members')\r\n                    .get()\r\n                    .then((members) => {\r\n                        members.forEach(member => {\r\n                            if (member.id == firebase.auth().currentUser.uid) {\r\n                                this.currentUserProjects.push({\r\n                                    name: project.data()['name'],\r\n                                    id: project.id\r\n                                })\r\n                            }\r\n                        })\r\n                    })\r\n                    .catch(err => {\r\n                        console.log('error en la obtenciòn de miembros ' + err)\r\n                    })\r\n                })\r\n            })\r\n            .catch(err => {\r\n                console.log('error en la obtenciòn de proyectos ' + err)\r\n            })\r\n        },\r\n        sendInvitationToSelectedUser: function(projectId) {\r\n            firebase.auth().onAuthStateChanged((user) => {\r\n                if(this.profileId == user.uid){\r\n                    alert('No puedes invitarte tu mismo a un proyecto')\r\n                } else {\r\n                    firebase.firestore()\r\n                    .collection('projects')\r\n                    .doc(projectId)\r\n                    .get()\r\n                    .then(project => {\r\n                        firebase.firestore()\r\n                        .collection('users')\r\n                        .doc(this.profileId)\r\n                        .collection('invitations')\r\n                        .doc(projectId)\r\n                        .set({\r\n                            pname: project.data()['shortName']\r\n                        })\r\n                        .then(() => {\r\n                            // this.addActivityPoint()\r\n                            $('#invitationModal').modal('hide')\r\n                            document.getElementById('successAlert').style.display = 'block'\r\n                        })\r\n                        .catch(err => console.log(err))\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SendInvitation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SendInvitation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SendInvitation.vue?vue&type=template&id=3ff643e8&\"\nimport script from \"./SendInvitation.vue?vue&type=script&lang=js&\"\nexport * from \"./SendInvitation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"publicProfileLayout\">\r\n        <div class=\"alert alert-primary successAlert\" id=\"successAlert\" role=\"alert\">\r\n            La invitación ha sido correctamente enviada\r\n        </div>\r\n        <SendInvitationModal :profileId=\"user.id\"/>\r\n        <div class=\"publicProfileBrand\">\r\n            <img src=\"@/assets/logo-common-cutted.png\" width=\"189px\">\r\n        </div>\r\n        \r\n        <div class=\"publicProfileBase\">\r\n            <div class=\"publicProfileContent\">\r\n                <div class=\"profilePhotoImage\">\r\n                    <img :src=\"user.url\">\r\n                </div>\r\n                <div class=\"profileDescription\">\r\n                    <span class=\"publicProfileInd\">Perfil de usuario</span>\r\n                    <h1 style=\"letter-spacing: -1px\">{{user.name}}</h1>\r\n                    <span class=\"profileUsername\">@{{user.user}}</span>\r\n\r\n                    <div class=\"profileBiography\">\r\n                        <span style=\"font-weight: 700\">Biografía</span>\r\n                        <p>{{user.bio}}</p>\r\n                    </div>\r\n                    \r\n                    <br>\r\n                    <button v-if=\"invitationIsAvailable\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#invitationModal\">Invitar a un proyecto</button>\r\n                </div>\r\n            </div>\r\n            <div class=\"publicProfileContentNotAvailable\">\r\n                <img src=\"@/assets/ilustrations/nothing.png\" class=\"publicProfileContentNotAvailableImage\">\r\n                <h3 style=\"color: #9e95aa;\">No falta mucho para que conozcas más a esta persona</h3>\r\n                <p style=\"color: #9e95aa;\">Aquí en unos días, aparecerán datos interesantes de esta persona.</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\n    import firebase from 'firebase'\r\n\r\n    import '@/assets/css/publicProfile.css'\r\n    import profilePhotoUser from '@/assets/ilustrations/profile.png'\r\n\r\n    import SendInvitationModal from '@/components/modals/SendInvitation.vue'\r\n\r\n    export default {\r\n        data: function() {\r\n            return {\r\n                user: {\r\n                    name: '',\r\n                    user: '',\r\n                    bio: '',\r\n                    id: ''\r\n                },\r\n                invitationIsAvailable: false\r\n            }\r\n        },\r\n        components: {\r\n            SendInvitationModal\r\n        },\r\n        created(){\r\n            this.getUserData()\r\n        },\r\n        methods: {\r\n            getUserData: function(){\r\n                firebase.firestore()\r\n                .collection('users')\r\n                .where(\"user\", \"==\", this.$route.params.username)\r\n                .get()\r\n                .then(user => {\r\n                    if (!user.empty){\r\n                        firebase.storage().ref(`/profile_photos/${user.docs[0].id}`)\r\n                        .getDownloadURL()\r\n                        .then(url => {\r\n                            this.user = {\r\n                                name: user.docs[0].data()['name'],\r\n                                user: user.docs[0].data()['user'],\r\n                                bio: user.docs[0].data()['bio'],\r\n                                url: url,\r\n                                id: user.docs[0].id\r\n                            }\r\n\r\n                            this.checkIfInvitationIsAvailable()\r\n                        })\r\n                        .catch(() => {\r\n                            this.user = {\r\n                                name: user.docs[0].data()['name'],\r\n                                user: user.docs[0].data()['user'],\r\n                                bio: user.docs[0].data()['bio'],\r\n                                url: profilePhotoUser,\r\n                                id: user.docs[0].id\r\n                            }\r\n\r\n                            this.checkIfInvitationIsAvailable()\r\n                        })\r\n                    }\r\n                })\r\n            },\r\n            checkIfInvitationIsAvailable: function(){\r\n                firebase.auth().onAuthStateChanged((user) => {\r\n                    if (this.user.id == user.uid) {\r\n                        this.invitationIsAvailable = false\r\n                    } else {\r\n                        this.invitationIsAvailable = true\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublicProfile.vue?vue&type=template&id=039f4074&\"\nimport script from \"./PublicProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicProfile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","module.exports = __webpack_public_path__ + \"img/nothing.26c4b763.png\";","import Vue from 'vue'\r\nimport firebase from 'firebase'\r\n\r\nexport const AddPoints = {\r\n    methods: {\r\n        addActivityPoint(){\r\n            let date = new Date()\r\n            let today = `${date.getUTCDate()}${date.getMonth()}${date.getFullYear()}`\r\n\r\n            firebase.firestore()\r\n            .collection('projects')\r\n            .doc(this.$route.params.projectId)\r\n            .collection('dates')\r\n            .doc(today)\r\n            .get()\r\n            .then(amount => {\r\n               let amounted = amount.data() == undefined ? 0 : amount.data()['activityPoints']\r\n               this.setActivityPoint(today, amounted)\r\n            })\r\n        },\r\n        setActivityPoint(date, point){\r\n            firebase.firestore()\r\n            .collection('projects')\r\n            .doc(this.$route.params.projectId)\r\n            .collection(\"dates\")\r\n            .doc(date)\r\n            .set({\r\n                activityPoints: (point + 1),\r\n                date: firebase.firestore.Timestamp.fromDate(new Date())\r\n            })\r\n        }\r\n    }\r\n}","module.exports = __webpack_public_path__ + \"img/profile.f2fd1390.png\";"],"sourceRoot":""}