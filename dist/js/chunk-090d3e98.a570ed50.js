(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-090d3e98"],{"0e09":function(t,e,a){t.exports=a.p+"img/feather-sprite.5113e3a1.svg"},1941:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"users"}},[a("div",{staticClass:"dashboardContent"},[a("UserRegistry")],1),a("ProjectPanel")],1)},s=[],o=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"usersRegistry"}},[a("div",{staticClass:"usersListTable",attrs:{id:"usersListTable"}},[a("h6",[t._v("Usuarios en tu proyecto")]),a("table",{staticClass:"table"},[a("thead",{staticClass:"thead-dark"},[a("tr",{staticStyle:{"font-size":"14px"}},[a("th",{attrs:{scope:"col"}},[t._v("Nombre")]),a("th",{attrs:{scope:"col"}},[t._v("Usuario")]),a("th",{attrs:{scope:"col"}},[t._v("Rol")])])]),a("tbody",{attrs:{id:"projectUsersField"}})])]),a("div",{staticClass:"bannerNonUsers",attrs:{id:"bannerNonUsers"}},[a("div",[a("h3",[t._v("Invita a más personas a tu proyecto")]),a("p",[t._v("Puedes agregar a más usuarios en el proyecto si conoces su nombre de usuario. Para añadir un miembro a tu proyecto, ya debe de estar registrado en la plataforma. Solo debes acceder a https://recognizify.netlify.com/@ y agregarle a esa dirección el nombre de usuario de la persona.")])])])])}],i=(a("386d"),a("6b54"),a("7f7f"),a("ac6a"),a("8aa5")),c=a.n(i),l=(a("f880"),a("e010")),u={data:function(){return{search:"",UserNameInvited:"",UserInvited:""}},mounted:function(){this.getUsersOnThisProject()},mixins:[l["a"]],methods:{getUsersOnThisProject:function(){var t=this.$router.history.current.params["projectId"];c.a.firestore().collection("projects").doc(t).collection("members").get().then(function(t){if(console.log(t.docs.length),t.docs.length>=1){var e=document.getElementById("usersListTable"),a=document.getElementById("projectUsersField");e.style.display="block",t.forEach(function(t){a.insertAdjacentHTML("beforeend","\n                <tr>\n                  <td>".concat(t.data()["name"],"</td>\n                  <td>").concat(t.data()["user"]?"@"+t.data()["user"]:"No tiene un usuario","</td>\n                  <td>").concat(t.data()["role"]?t.data()["role"]:"No tiene rol asignado","</td>\n                </tr>\n              "))})}if(0==t.docs.length){var r=document.getElementById("bannerNonUsers");r.style.display="block"}})},proposeAnUserWithSearch:function(){var t=this;c.a.firestore().collection("users").get().then(function(e){e.forEach(function(e){t.search.toString()==e.data()["user"]&&(t.UserInvited=e.data()["user"],t.enableNewMemberInvitationCard(e.data()["name"]))})})},enableNewMemberInvitationCard:function(t){this.UserNameInvited=t},sendInvitationToSelectedUser:function(){var t=this;c.a.firestore().collection("users").get().then(function(e){e.docs.forEach(function(e){if(e.data()["user"]==t.UserInvited){var a=e.id,r=t.$router.history.current.params["projectId"];c.a.firestore().collection("projects").doc(r).get().then(function(e){t.addActivityPoint(),c.a.firestore().collection("users").doc(a).collection("invitations").doc(r).set({pname:e.data()["shortName"]})})}})})}}},d=u,p=a("2877"),f=Object(p["a"])(d,o,n,!1,null,null,null),h=f.exports,v=(a("8f3a"),a("e7dd")),m=a("7c20"),g={components:{UserRegistry:h,ProjectPanel:m["a"]},mixins:[v["a"]],created:function(){"undefined"==this.$router.history.current.params["projectId"]&&this.$router.push("/dashboard/select")}},j=g,b=Object(p["a"])(j,r,s,!1,null,null,null);e["default"]=b.exports},"386d":function(t,e,a){"use strict";var r=a("cb7c"),s=a("83a1"),o=a("5f1b");a("214f")("search",1,function(t,e,a,n){return[function(a){var r=t(this),s=void 0==a?void 0:a[e];return void 0!==s?s.call(a,r):new RegExp(a)[e](String(r))},function(t){var e=n(a,t,this);if(e.done)return e.value;var i=r(t),c=String(this),l=i.lastIndex;s(l,0)||(i.lastIndex=0);var u=o(i,c);return s(i.lastIndex,l)||(i.lastIndex=l),null===u?-1:u.index}]})},"40da":function(t,e,a){"use strict";var r=a("ca3f"),s=a.n(r);s.a},7234:function(t,e,a){"use strict";var r=a("b164"),s=a.n(r);s.a},7323:function(t,e,a){},"7c20":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("OverlayMenuToggleButton"),r("div",{staticClass:"projectFeedPanel",attrs:{id:"projectFeedPanel"}},[r("ProjectName"),r("div",{staticClass:"projectFounder"},[r("p",{staticClass:"projectCardIndicator"},[t._v("Creador del proyecto")]),r("div",{staticClass:"projectFounderFlow"},[r("div",{staticClass:"projectFounderProfile"},[r("img",{staticClass:"projectFounderProfilePicture",attrs:{src:t.admin.profilePicture?t.admin.profilePicture:"@/assets/ilustrations/profile.png"}})]),r("div",{staticStyle:{display:"flex","flex-direction":"column"}},[r("span",{staticClass:"projectFounderName"},[t._v(t._s(t.admin.name))]),r("small",{staticClass:"text-muted",staticStyle:{"font-weight":"600"}},[t._v("@"+t._s(t.admin.user))])])])]),r("div",{staticClass:"projectShortcuts"},[r("p",{staticClass:"projectCardIndicator"},[t._v("Módulos del proyecto")]),r("router-link",{staticClass:"projectShortcutLink",attrs:{to:"/dashboard/project/"+this.$route.params.projectId+"/feed"}},[r("div",{staticClass:"projectShortcutButton"},[r("svg",{staticClass:"feather-menu"},[r("use",{attrs:{"xlink:href":a("0e09")+"#activity"}})]),t._v("\n                    Feed\n                ")])]),r("router-link",{staticClass:"projectShortcutLink",attrs:{to:"/dashboard/project/"+this.$route.params.projectId+"/board"}},[r("div",{staticClass:"projectShortcutButton"},[r("svg",{staticClass:"feather-menu"},[r("use",{attrs:{"xlink:href":a("0e09")+"#message-square"}})]),t._v("\n                    Boards\n                ")])]),r("router-link",{staticClass:"projectShortcutLink",attrs:{to:"/dashboard/project/"+this.$route.params.projectId+"/tasks"}},[r("div",{staticClass:"projectShortcutButton"},[r("svg",{staticClass:"feather-menu"},[r("use",{attrs:{"xlink:href":a("0e09")+"#clock"}})]),t._v("\n                    Tasks\n                ")])]),r("router-link",{staticClass:"projectShortcutLink",attrs:{to:"/dashboard/project/"+this.$route.params.projectId+"/goals"}},[r("div",{staticClass:"projectShortcutButton"},[r("svg",{staticClass:"feather-menu"},[r("use",{attrs:{"xlink:href":a("0e09")+"#flag"}})]),t._v("\n                    Goals\n                ")])]),r("router-link",{staticClass:"projectShortcutLink",attrs:{to:"/dashboard/project/"+this.$route.params.projectId+"/membership"}},[r("div",{staticClass:"projectShortcutButton"},[r("svg",{staticClass:"feather-menu"},[r("use",{attrs:{"xlink:href":a("0e09")+"#users"}})]),t._v("\n                    Users\n                ")])]),r("router-link",{staticClass:"projectShortcutLink",attrs:{to:"/dashboard/project/"+this.$route.params.projectId+"/ads"}},[r("div",{staticClass:"projectShortcutButton"},[r("svg",{staticClass:"feather-menu"},[r("use",{attrs:{"xlink:href":a("0e09")+"#mic"}})]),t._v("\n                    Ads\n                ")])])],1)],1)],1)},s=[],o=(a("7f7f"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"projectPresentationContainer"},[a("div",{staticClass:"projectData"},[a("p",{staticClass:"text-white"},[t._v(t._s(t.projectName))]),a("span",[t._v(t._s(t.projectDescription?t.projectDescription:""))])])])}),n=[],i=a("8aa5"),c=a.n(i),l={data:function(){return{projectName:"",projectDescription:""}},created:function(){var t=this;c.a.firestore().collection("projects").doc(this.$route.params.projectId).get().then(function(e){t.projectName=e.data()["shortName"],t.projectDescription=e.data()["description"]})}},u=l,d=(a("7234"),a("2877")),p=Object(d["a"])(u,o,n,!1,null,null,null),f=p.exports,h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("button",{staticClass:"OverlayMenuToggleButton",attrs:{id:"OverlayMenuToggleButton","data-toggle":"tooltip","data-placement":"bottom",title:"Menú del proyecto"},on:{click:t.toggleOverlayMenu}},[r("svg",{staticClass:"feather-light"},[r("use",{attrs:{"xlink:href":a("0e09")+"#package"}})])])])},v=[],m=(a("1157"),{updated:function(){$(function(){$('[data-toggle="tooltip"]').tooltip()})},methods:{toggleOverlayMenu:function(){document.getElementById("projectFeedPanel").classList.toggle("show"),document.getElementById("OverlayMenuToggleButton").classList.toggle("forward"),$("#OverlayMenuToggleButton").tooltip("disable")}}}),g=m,j=(a("40da"),Object(d["a"])(g,h,v,!1,null,null,null)),b=j.exports,y=(a("7323"),{data:function(){return{admin:{name:"",profilePicture:"",user:""}}},components:{ProjectName:f,OverlayMenuToggleButton:b},created:function(){var t=this;c.a.firestore().collection("projects").doc(this.$route.params.projectId).get().then(function(e){c.a.firestore().collection("users").doc(e.data()["admin"][0]).get().then(function(e){t.admin.name=e.data()["name"],t.admin.user=e.data()["user"]}),c.a.storage().ref("profile_photos/".concat(e.data()["admin"][0])).getDownloadURL().then(function(e){return t.admin.profilePicture=e})})},methods:{closeOverlayMenu:function(){document.getElementById("projectFeedPanel").classList.toggle("show")}}}),C=y,I=Object(d["a"])(C,r,s,!1,null,null,null);e["a"]=I.exports},"7f7f":function(t,e,a){var r=a("86cc").f,s=Function.prototype,o=/^\s*function ([^ (]*)/,n="name";n in s||a("9e1e")&&r(s,n,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"8f3a":function(t,e,a){},b164:function(t,e,a){},ca3f:function(t,e,a){},e010:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var r=a("8aa5"),s=a.n(r),o={methods:{addActivityPoint:function(){var t=this,e=new Date,a="".concat(e.getUTCDate()).concat(e.getMonth()).concat(e.getFullYear());s.a.firestore().collection("projects").doc(this.$route.params.projectId).collection("dates").doc(a).get().then(function(e){var r=void 0==e.data()?0:e.data()["activityPoints"];t.setActivityPoint(a,r)})},setActivityPoint:function(t,e){s.a.firestore().collection("projects").doc(this.$route.params.projectId).collection("dates").doc(t).set({activityPoints:e+1,date:s.a.firestore.Timestamp.fromDate(new Date)})}}}},e7dd:function(t,e,a){"use strict";a("ac6a");var r=a("8aa5"),s=a.n(r),o={beforeCreate:function(){var t=this;s.a.firestore().collection("projects").doc(this.$route.params.projectId).collection("members").get().then(function(e){var a=!1;e.forEach(function(t){t.id==s.a.auth().currentUser.uid&&(a=!0)}),setInterval(function(){0==a&&t.$router.push("/error/project")},500)})}};e["a"]=o},f880:function(t,e,a){}}]);
//# sourceMappingURL=chunk-090d3e98.a570ed50.js.map