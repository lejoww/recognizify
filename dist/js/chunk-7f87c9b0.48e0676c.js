(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f87c9b0"],{"1d03":function(t,e,o){},"26c8":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"formCuttedLayout"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.task.name,expression:"task.name"}],staticClass:"form-control-special form-control-xl form-control-variable",attrs:{type:"text",spellcheck:"false",placeholder:"Escribe un nombre para la tarea"},domProps:{value:t.task.name},on:{input:function(e){e.target.composing||t.$set(t.task,"name",e.target.value)}}}),o("br"),o("div",{staticClass:"formContent"},[o("span",{staticClass:"formSubtitle"},[t._v("Información de la tarea")]),o("p",{staticClass:"formText"},[t._v("Recopilamos la mayor cantidad de información de tu equipo")]),o("div",{staticClass:"form-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.task.because,expression:"task.because"}],staticClass:"form-control",attrs:{type:"text",placeholder:"¿Por qué deben hacer esto?"},domProps:{value:t.task.because},on:{input:function(e){e.target.composing||t.$set(t.task,"because",e.target.value)}}})]),o("div",{staticClass:"form-row"},[o("div",{staticClass:"col"},[o("select",{staticClass:"form-control",staticStyle:{border:"1px solid #e0e0e0"},on:{change:t.getGoals}},[o("option",{attrs:{selected:""}},[t._v("¿Con qué objetivo hacen esto?")]),t._l(t.objectivesAchieved,function(e){return o("option",{key:e},[t._v(t._s(e["name"]))])})],2)]),o("div",{staticClass:"col"},[o("select",{staticClass:"form-control",staticStyle:{border:"1px solid #e0e0e0"},attrs:{id:"steps"}},[o("option",{attrs:{selected:""}},[t._v("¿Qué relación tiene esta tarea con el objetivo?")]),t._l(t.objectivesStepsAchieved,function(e){return o("option",{key:e},[t._v(t._s(e))])})],2)])]),o("br"),o("button",{staticClass:"btn btn-success",on:{click:t.saveTask}},[t._v("Guardar tarea")])])])},s=[],c=(o("7f7f"),o("ac6a"),o("1d03"),o("8aa5")),n=o.n(c),i=o("e7dd"),r=o("e010"),l={data:function(){return{task:{name:"",because:""},objectivesAchieved:[],objectivesStepsAchieved:[]}},mixins:[i["a"],r["a"]],mounted:function(){var t=this;n.a.firestore().collection("projects").doc(this.$route.params.projectId).collection("goals").get().then(function(e){e.forEach(function(e){return t.objectivesAchieved.push({name:e.data()["name"],id:e.id})})})},methods:{getGoals:function(t){var e=this;this.objectivesAchieved.forEach(function(o){t.target.value==o["name"]&&n.a.firestore().collection("projects").doc(e.$route.params.projectId).collection("goals").doc(o["id"]).get().then(function(t){e.objectivesStepsAchieved.push(t.data().steps["one"],t.data().steps["two"],t.data().steps["third"])})})},saveTask:function(){var t=this,e=document.getElementById("steps"),o=e.options[e.selectedIndex].text;n.a.firestore().collection("projects").doc(this.$route.params.projectId).collection("tasks").add({task:this.task.name,because:this.task.because,for:o,creator:n.a.auth().currentUser.uid,isDone:!1}).then(function(){t.addActivityPoint(),t.$router.push("/dashboard/project/".concat(t.$route.params.projectId,"/tasks"))})}}},u=l,d=o("2877"),p=Object(d["a"])(u,a,s,!1,null,null,null);e["default"]=p.exports},"7f7f":function(t,e,o){var a=o("86cc").f,s=Function.prototype,c=/^\s*function ([^ (]*)/,n="name";n in s||o("9e1e")&&a(s,n,{configurable:!0,get:function(){try{return(""+this).match(c)[1]}catch(t){return""}}})},e010:function(t,e,o){"use strict";o.d(e,"a",function(){return c});var a=o("8aa5"),s=o.n(a),c={methods:{addActivityPoint:function(){var t=this,e=new Date,o="".concat(e.getUTCDate()).concat(e.getMonth()).concat(e.getFullYear());s.a.firestore().collection("projects").doc(this.$route.params.projectId).collection("dates").doc(o).get().then(function(e){var a=void 0==e.data()?0:e.data()["activityPoints"];t.setActivityPoint(o,a)})},setActivityPoint:function(t,e){s.a.firestore().collection("projects").doc(this.$route.params.projectId).collection("dates").doc(t).set({activityPoints:e+1,date:s.a.firestore.Timestamp.fromDate(new Date)}).then(function(){return window.location.reload()})}}}},e7dd:function(t,e,o){"use strict";o("ac6a");var a=o("8aa5"),s=o.n(a),c={beforeCreate:function(){var t=this;s.a.firestore().collection("projects").doc(this.$route.params.projectId).collection("members").get().then(function(e){var o=!1;e.forEach(function(t){t.id==s.a.auth().currentUser.uid&&(o=!0)}),setInterval(function(){0==o&&t.$router.push("/error/project")},500)})}};e["a"]=c}}]);
//# sourceMappingURL=chunk-7f87c9b0.48e0676c.js.map