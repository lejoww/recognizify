{"version":3,"sources":["webpack:///./src/views/account/config/CreateTask.vue?d590","webpack:///src/views/account/config/CreateTask.vue","webpack:///./src/views/account/config/CreateTask.vue?10af","webpack:///./src/views/account/config/CreateTask.vue","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/assets/scripts/addActivityPoints.js","webpack:///./src/assets/scripts/checkProjectMember.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","task","expression","attrs","type","spellcheck","placeholder","domProps","on","input","$event","target","composing","$set","_v","staticStyle","border","change","getGoals","selected","_l","objective","key","_s","id","step","click","saveTask","staticRenderFns","CreateTaskvue_type_script_lang_js_","data","because","objectivesAchieved","objectivesStepsAchieved","mixins","checkProjectMember","addActivityPoints","mounted","_this","index_cjs_default","a","firestore","collection","doc","$route","params","projectId","get","then","goals","forEach","goal","push","methods","e","_this2","steps","_this3","stepsList","document","getElementById","taskFor","options","selectedIndex","text","add","for","creator","auth","currentUser","uid","isDone","addActivityPoint","$router","concat","config_CreateTaskvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","dP","__webpack_require__","f","FProto","Function","prototype","nameRE","NAME","configurable","match","d","AddPoints","firebase__WEBPACK_IMPORTED_MODULE_0__","firebase__WEBPACK_IMPORTED_MODULE_0___default","n","date","Date","today","getUTCDate","getMonth","getFullYear","firebase","amount","amounted","undefined","setActivityPoint","point","set","activityPoints","Timestamp","fromDate","window","location","reload","CheckProjectMember","beforeCreate","membership","state","member","setInterval"],"mappings":"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","file":"js/chunk-7f87c9b0.aa8edc8d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"formCuttedLayout\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.task.name),expression:\"task.name\"}],staticClass:\"form-control-special form-control-xl form-control-variable\",attrs:{\"type\":\"text\",\"spellcheck\":\"false\",\"placeholder\":\"Escribe un nombre para la tarea\"},domProps:{\"value\":(_vm.task.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.task, \"name\", $event.target.value)}}}),_c('br'),_c('div',{staticClass:\"formContent\"},[_c('span',{staticClass:\"formSubtitle\"},[_vm._v(\"Información de la tarea\")]),_c('p',{staticClass:\"formText\"},[_vm._v(\"Recopilamos la mayor cantidad de información de tu equipo\")]),_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.task.because),expression:\"task.because\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"¿Por qué deben hacer esto?\"},domProps:{\"value\":(_vm.task.because)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.task, \"because\", $event.target.value)}}})]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col\"},[_c('select',{staticClass:\"form-control\",staticStyle:{\"border\":\"1px solid #e0e0e0\"},on:{\"change\":_vm.getGoals}},[_c('option',{attrs:{\"selected\":\"\"}},[_vm._v(\"¿Con qué objetivo hacen esto?\")]),_vm._l((_vm.objectivesAchieved),function(objective){return _c('option',{key:objective},[_vm._v(_vm._s(objective['name']))])})],2)]),_c('div',{staticClass:\"col\"},[_c('select',{staticClass:\"form-control\",staticStyle:{\"border\":\"1px solid #e0e0e0\"},attrs:{\"id\":\"steps\"}},[_c('option',{attrs:{\"selected\":\"\"}},[_vm._v(\"¿Qué relación tiene esta tarea con el objetivo?\")]),_vm._l((_vm.objectivesStepsAchieved),function(step){return _c('option',{key:step},[_vm._v(_vm._s(step))])})],2)])]),_c('br'),_c('button',{staticClass:\"btn btn-success\",on:{\"click\":_vm.saveTask}},[_vm._v(\"Guardar tarea\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"formCuttedLayout\">\r\n        <input type=\"text\" v-model=\"task.name\" class=\"form-control-special form-control-xl form-control-variable\" spellcheck=\"false\" placeholder=\"Escribe un nombre para la tarea\">\r\n        <br>\r\n        <div class=\"formContent\">\r\n            <span class=\"formSubtitle\">Información de la tarea</span>\r\n            <p class=\"formText\">Recopilamos la mayor cantidad de información de tu equipo</p>\r\n            <div class=\"form-group\">\r\n                <input type=\"text\" v-model=\"task.because\" class=\"form-control\" placeholder=\"¿Por qué deben hacer esto?\">\r\n            </div>\r\n            <div class=\"form-row\">\r\n                <div class=\"col\">\r\n                    <select class=\"form-control\" style=\"border: 1px solid #e0e0e0;\" @change=\"getGoals\">\r\n                        <option selected>¿Con qué objetivo hacen esto?</option>\r\n                        <option :key=\"objective\" v-for=\"objective in objectivesAchieved\">{{objective['name']}}</option>\r\n                    </select>\r\n                </div>\r\n                <div class=\"col\">\r\n                    <select class=\"form-control\" style=\"border: 1px solid #e0e0e0;\" id=\"steps\">\r\n                        <option selected>¿Qué relación tiene esta tarea con el objetivo?</option>\r\n                        <option :key=\"step\" v-for=\"step in objectivesStepsAchieved\">{{step}}</option>\r\n                    </select>\r\n                </div>\r\n            </div><br>\r\n            <button class=\"btn btn-success\" @click=\"saveTask\">Guardar tarea</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\n    import '@/assets/css/tasksTable.css'\r\n\r\n    import firebase from 'firebase'\r\n    import CheckProjectMember from '@/assets/scripts/checkProjectMember.js'\r\n    import { AddPoints } from '@/assets/scripts/addActivityPoints.js'\r\n\r\n    export default {\r\n        data: function(){\r\n            return {\r\n                task: {\r\n                    name: '',\r\n                    because: ''\r\n                },\r\n                objectivesAchieved: [],\r\n                objectivesStepsAchieved: []\r\n            }\r\n        },\r\n        mixins: [CheckProjectMember, AddPoints],\r\n        mounted: function(){\r\n            firebase.firestore()\r\n            .collection('projects')\r\n            .doc(this.$route.params.projectId)\r\n            .collection('goals')\r\n            .get()\r\n            .then(goals => {\r\n                goals.forEach(goal => this.objectivesAchieved.push({\r\n                    name: goal.data()['name'],\r\n                    id: goal.id\r\n                }))\r\n            })\r\n        },\r\n        methods: {\r\n            getGoals: function(e){\r\n                this.objectivesAchieved.forEach(objective => {\r\n                    if(e.target.value == objective['name']){\r\n                        firebase.firestore()\r\n                        .collection('projects')\r\n                        .doc(this.$route.params.projectId)\r\n                        .collection('goals')\r\n                        .doc(objective['id'])\r\n                        .get()\r\n                        .then(goal => {\r\n                            this.objectivesStepsAchieved.push(\r\n                                goal.data().steps['one'], \r\n                                goal.data().steps['two'],\r\n                                goal.data().steps['third']\r\n                            )\r\n                        })\r\n                    }\r\n                })\r\n            },\r\n            saveTask: function(){\r\n                let stepsList = document.getElementById('steps');\r\n                let taskFor = stepsList.options[stepsList.selectedIndex].text;\r\n                firebase.firestore()\r\n                .collection('projects')\r\n                .doc(this.$route.params.projectId)\r\n                .collection('tasks')\r\n                .add({\r\n                    task: this.task.name,\r\n                    because: this.task.because,\r\n                    for: taskFor,\r\n                    creator: firebase.auth().currentUser.uid,\r\n                    isDone: false\r\n                })\r\n                .then(() => {\r\n                    this.addActivityPoint()\r\n                    this.$router.push(`/dashboard/project/${this.$route.params.projectId}/tasks`)\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateTask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateTask.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateTask.vue?vue&type=template&id=536b22de&\"\nimport script from \"./CreateTask.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateTask.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","import Vue from 'vue'\r\nimport firebase from 'firebase'\r\n\r\nexport const AddPoints = {\r\n    methods: {\r\n        addActivityPoint(){\r\n            let date = new Date()\r\n            let today = `${date.getUTCDate()}${date.getMonth()}${date.getFullYear()}`\r\n\r\n            firebase.firestore()\r\n            .collection('projects')\r\n            .doc(this.$route.params.projectId)\r\n            .collection('dates')\r\n            .doc(today)\r\n            .get()\r\n            .then(amount => {\r\n               let amounted = amount.data() == undefined ? 0 : amount.data()['activityPoints']\r\n               this.setActivityPoint(today, amounted)\r\n            })\r\n        },\r\n        setActivityPoint(date, point){\r\n            firebase.firestore()\r\n            .collection('projects')\r\n            .doc(this.$route.params.projectId)\r\n            .collection(\"dates\")\r\n            .doc(date)\r\n            .set({\r\n                activityPoints: (point + 1),\r\n                date: firebase.firestore.Timestamp.fromDate(new Date())\r\n            })\r\n            .then(() => window.location.reload())\r\n        }\r\n    }\r\n}","import Vue from 'vue';\r\nimport firebase from 'firebase';\r\n\r\nexport const CheckProjectMember = {\r\n    beforeCreate: function() {\r\n        firebase.firestore()\r\n        .collection('projects')\r\n        .doc(this.$route.params.projectId)\r\n        .collection('members')\r\n        .get()\r\n        .then((membership) => {\r\n            var state = false;\r\n            membership.forEach(member => {\r\n                if (member.id == firebase.auth().currentUser.uid){\r\n                    state = true\r\n                }\r\n            })\r\n\r\n            setInterval(() => {\r\n                if (state == false) {\r\n                    this.$router.push('/error/project')\r\n                }\r\n            }, 500)\r\n        });\r\n    }\r\n}\r\n\r\nexport default CheckProjectMember;"],"sourceRoot":""}